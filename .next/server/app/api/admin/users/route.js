"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/admin/users/route";
exports.ids = ["app/api/admin/users/route"];
exports.modules = {

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("mongoose");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/next@14.2.35_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fadmin%2Fusers%2Froute&page=%2Fapi%2Fadmin%2Fusers%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Fusers%2Froute.ts&appDir=E%3A%5CNew%20folder%20(4)%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5CNew%20folder%20(4)&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/next@14.2.35_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fadmin%2Fusers%2Froute&page=%2Fapi%2Fadmin%2Fusers%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Fusers%2Froute.ts&appDir=E%3A%5CNew%20folder%20(4)%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5CNew%20folder%20(4)&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/.pnpm/next@14.2.35_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/.pnpm/next@14.2.35_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/.pnpm/next@14.2.35_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var E_New_folder_4_app_api_admin_users_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/admin/users/route.ts */ \"(rsc)/./app/api/admin/users/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/admin/users/route\",\n        pathname: \"/api/admin/users\",\n        filename: \"route\",\n        bundlePath: \"app/api/admin/users/route\"\n    },\n    resolvedPagePath: \"E:\\\\New folder (4)\\\\app\\\\api\\\\admin\\\\users\\\\route.ts\",\n    nextConfigOutput,\n    userland: E_New_folder_4_app_api_admin_users_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/admin/users/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vbmV4dEAxNC4yLjM1X3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xX19yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1hcHAtbG9hZGVyLmpzP25hbWU9YXBwJTJGYXBpJTJGYWRtaW4lMkZ1c2VycyUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGYWRtaW4lMkZ1c2VycyUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmFkbWluJTJGdXNlcnMlMkZyb3V0ZS50cyZhcHBEaXI9RSUzQSU1Q05ldyUyMGZvbGRlciUyMCg0KSU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9RSUzQSU1Q05ldyUyMGZvbGRlciUyMCg0KSZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDSTtBQUNqRjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL2dlYXJnaGFyLz9hMTI0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkU6XFxcXE5ldyBmb2xkZXIgKDQpXFxcXGFwcFxcXFxhcGlcXFxcYWRtaW5cXFxcdXNlcnNcXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2FkbWluL3VzZXJzL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvYWRtaW4vdXNlcnNcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2FkbWluL3VzZXJzL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiRTpcXFxcTmV3IGZvbGRlciAoNClcXFxcYXBwXFxcXGFwaVxcXFxhZG1pblxcXFx1c2Vyc1xcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvYWRtaW4vdXNlcnMvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/next@14.2.35_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fadmin%2Fusers%2Froute&page=%2Fapi%2Fadmin%2Fusers%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Fusers%2Froute.ts&appDir=E%3A%5CNew%20folder%20(4)%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5CNew%20folder%20(4)&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/admin/users/route.ts":
/*!**************************************!*\
  !*** ./app/api/admin/users/route.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DELETE: () => (/* binding */ DELETE),\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   PUT: () => (/* binding */ PUT)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/.pnpm/next@14.2.35_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/api/server.js\");\n/* harmony import */ var _src_config_database__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/src/config/database */ \"(rsc)/./src/config/database.ts\");\n/* harmony import */ var _src_models_User__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/src/models/User */ \"(rsc)/./src/models/User.ts\");\n/* harmony import */ var _lib_auth__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/auth */ \"(rsc)/./lib/auth.ts\");\n\n\n\n\n// GET all users (Admin only)\nasync function GET(request) {\n    try {\n        // Verify admin authentication\n        const token = request.headers.get(\"authorization\")?.replace(\"Bearer \", \"\");\n        if (!token) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                message: \"Authorization token required\"\n            }, {\n                status: 401\n            });\n        }\n        const decoded = (0,_lib_auth__WEBPACK_IMPORTED_MODULE_3__.verifyToken)(token);\n        if (!decoded || decoded.role !== \"admin\") {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                message: \"Admin access required\"\n            }, {\n                status: 403\n            });\n        }\n        await (0,_src_config_database__WEBPACK_IMPORTED_MODULE_1__.connectToDatabase)();\n        // Get query parameters for pagination and filtering\n        const { searchParams } = new URL(request.url);\n        const page = parseInt(searchParams.get(\"page\") || \"1\");\n        const limit = parseInt(searchParams.get(\"limit\") || \"10\");\n        const search = searchParams.get(\"search\") || \"\";\n        const role = searchParams.get(\"role\") || \"\";\n        const status = searchParams.get(\"status\") || \"\";\n        // Build filter\n        const filter = {};\n        if (search) {\n            filter.$or = [\n                {\n                    firstName: {\n                        $regex: search,\n                        $options: \"i\"\n                    }\n                },\n                {\n                    lastName: {\n                        $regex: search,\n                        $options: \"i\"\n                    }\n                },\n                {\n                    email: {\n                        $regex: search,\n                        $options: \"i\"\n                    }\n                }\n            ];\n        }\n        if (role) {\n            filter.role = role;\n        }\n        if (status) {\n            filter.status = status;\n        }\n        // Get users with pagination\n        const skip = (page - 1) * limit;\n        const users = await _src_models_User__WEBPACK_IMPORTED_MODULE_2__.User.find(filter).select(\"-password\").sort({\n            createdAt: -1\n        }).skip(skip).limit(limit);\n        const total = await _src_models_User__WEBPACK_IMPORTED_MODULE_2__.User.countDocuments(filter);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            users,\n            pagination: {\n                page,\n                limit,\n                total,\n                pages: Math.ceil(total / limit)\n            }\n        });\n    } catch (error) {\n        console.error(\"Error fetching users:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            message: \"Failed to fetch users\"\n        }, {\n            status: 500\n        });\n    }\n}\n// PUT update user (Admin only)\nasync function PUT(request) {\n    try {\n        // Verify admin authentication\n        const token = request.headers.get(\"authorization\")?.replace(\"Bearer \", \"\");\n        if (!token) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                message: \"Authorization token required\"\n            }, {\n                status: 401\n            });\n        }\n        const decoded = (0,_lib_auth__WEBPACK_IMPORTED_MODULE_3__.verifyToken)(token);\n        if (!decoded || decoded.role !== \"admin\") {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                message: \"Admin access required\"\n            }, {\n                status: 403\n            });\n        }\n        const { userId, ...updateData } = await request.json();\n        if (!userId) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                message: \"User ID is required\"\n            }, {\n                status: 400\n            });\n        }\n        await (0,_src_config_database__WEBPACK_IMPORTED_MODULE_1__.connectToDatabase)();\n        // Don't allow password updates through this endpoint\n        delete updateData.password;\n        const user = await _src_models_User__WEBPACK_IMPORTED_MODULE_2__.User.findByIdAndUpdate(userId, {\n            ...updateData,\n            updatedAt: new Date()\n        }, {\n            new: true,\n            runValidators: true\n        }).select(\"-password\");\n        if (!user) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                message: \"User not found\"\n            }, {\n                status: 404\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            message: \"User updated successfully\",\n            user\n        });\n    } catch (error) {\n        console.error(\"Error updating user:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            message: \"Failed to update user\"\n        }, {\n            status: 500\n        });\n    }\n}\n// DELETE user (Admin only)\nasync function DELETE(request) {\n    try {\n        // Verify admin authentication\n        const token = request.headers.get(\"authorization\")?.replace(\"Bearer \", \"\");\n        if (!token) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                message: \"Authorization token required\"\n            }, {\n                status: 401\n            });\n        }\n        const decoded = (0,_lib_auth__WEBPACK_IMPORTED_MODULE_3__.verifyToken)(token);\n        if (!decoded || decoded.role !== \"admin\") {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                message: \"Admin access required\"\n            }, {\n                status: 403\n            });\n        }\n        const { searchParams } = new URL(request.url);\n        const userId = searchParams.get(\"userId\");\n        if (!userId) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                message: \"User ID is required\"\n            }, {\n                status: 400\n            });\n        }\n        await (0,_src_config_database__WEBPACK_IMPORTED_MODULE_1__.connectToDatabase)();\n        // Don't allow deleting admin users\n        const user = await _src_models_User__WEBPACK_IMPORTED_MODULE_2__.User.findById(userId);\n        if (!user) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                message: \"User not found\"\n            }, {\n                status: 404\n            });\n        }\n        if (user.role === \"admin\") {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                message: \"Cannot delete admin users\"\n            }, {\n                status: 403\n            });\n        }\n        await _src_models_User__WEBPACK_IMPORTED_MODULE_2__.User.findByIdAndDelete(userId);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            message: \"User deleted successfully\"\n        });\n    } catch (error) {\n        console.error(\"Error deleting user:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            message: \"Failed to delete user\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNzRCxpQkFBaUIsQ0FBQ1g7UUFFN0IsT0FBTzdDLHFEQUFZQSxDQUFDVSxJQUFJLENBQUM7WUFDdkIyQixTQUFTO1lBQ1QxQixTQUFTO1FBQ1g7SUFFRixFQUFFLE9BQU8rQixPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyx3QkFBd0JBO1FBQ3RDLE9BQU8xQyxxREFBWUEsQ0FBQ1UsSUFBSSxDQUN0QjtZQUFFQyxTQUFTO1FBQXdCLEdBQ25DO1lBQUVDLFFBQVE7UUFBSTtJQUVsQjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ2VhcmdoYXIvLi9hcHAvYXBpL2FkbWluL3VzZXJzL3JvdXRlLnRzP2EyM2QiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcclxuaW1wb3J0IHsgY29ubmVjdFRvRGF0YWJhc2UgfSBmcm9tICdAL3NyYy9jb25maWcvZGF0YWJhc2UnO1xyXG5pbXBvcnQgeyBVc2VyIH0gZnJvbSAnQC9zcmMvbW9kZWxzL1VzZXInO1xyXG5pbXBvcnQgeyB2ZXJpZnlUb2tlbiB9IGZyb20gJ0AvbGliL2F1dGgnO1xyXG5cclxuLy8gR0VUIGFsbCB1c2VycyAoQWRtaW4gb25seSlcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xyXG4gIHRyeSB7XHJcbiAgICAvLyBWZXJpZnkgYWRtaW4gYXV0aGVudGljYXRpb25cclxuICAgIGNvbnN0IHRva2VuID0gcmVxdWVzdC5oZWFkZXJzLmdldCgnYXV0aG9yaXphdGlvbicpPy5yZXBsYWNlKCdCZWFyZXIgJywgJycpO1xyXG4gICAgXHJcbiAgICBpZiAoIXRva2VuKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IG1lc3NhZ2U6ICdBdXRob3JpemF0aW9uIHRva2VuIHJlcXVpcmVkJyB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiA0MDEgfVxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGRlY29kZWQgPSB2ZXJpZnlUb2tlbih0b2tlbik7XHJcbiAgICBpZiAoIWRlY29kZWQgfHwgZGVjb2RlZC5yb2xlICE9PSAnYWRtaW4nKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IG1lc3NhZ2U6ICdBZG1pbiBhY2Nlc3MgcmVxdWlyZWQnIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDQwMyB9XHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgYXdhaXQgY29ubmVjdFRvRGF0YWJhc2UoKTtcclxuXHJcbiAgICAvLyBHZXQgcXVlcnkgcGFyYW1ldGVycyBmb3IgcGFnaW5hdGlvbiBhbmQgZmlsdGVyaW5nXHJcbiAgICBjb25zdCB7IHNlYXJjaFBhcmFtcyB9ID0gbmV3IFVSTChyZXF1ZXN0LnVybCk7XHJcbiAgICBjb25zdCBwYWdlID0gcGFyc2VJbnQoc2VhcmNoUGFyYW1zLmdldCgncGFnZScpIHx8ICcxJyk7XHJcbiAgICBjb25zdCBsaW1pdCA9IHBhcnNlSW50KHNlYXJjaFBhcmFtcy5nZXQoJ2xpbWl0JykgfHwgJzEwJyk7XHJcbiAgICBjb25zdCBzZWFyY2ggPSBzZWFyY2hQYXJhbXMuZ2V0KCdzZWFyY2gnKSB8fCAnJztcclxuICAgIGNvbnN0IHJvbGUgPSBzZWFyY2hQYXJhbXMuZ2V0KCdyb2xlJykgfHwgJyc7XHJcbiAgICBjb25zdCBzdGF0dXMgPSBzZWFyY2hQYXJhbXMuZ2V0KCdzdGF0dXMnKSB8fCAnJztcclxuXHJcbiAgICAvLyBCdWlsZCBmaWx0ZXJcclxuICAgIGNvbnN0IGZpbHRlcjogYW55ID0ge307XHJcbiAgICBcclxuICAgIGlmIChzZWFyY2gpIHtcclxuICAgICAgZmlsdGVyLiRvciA9IFtcclxuICAgICAgICB7IGZpcnN0TmFtZTogeyAkcmVnZXg6IHNlYXJjaCwgJG9wdGlvbnM6ICdpJyB9IH0sXHJcbiAgICAgICAgeyBsYXN0TmFtZTogeyAkcmVnZXg6IHNlYXJjaCwgJG9wdGlvbnM6ICdpJyB9IH0sXHJcbiAgICAgICAgeyBlbWFpbDogeyAkcmVnZXg6IHNlYXJjaCwgJG9wdGlvbnM6ICdpJyB9IH1cclxuICAgICAgXTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgaWYgKHJvbGUpIHtcclxuICAgICAgZmlsdGVyLnJvbGUgPSByb2xlO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAoc3RhdHVzKSB7XHJcbiAgICAgIGZpbHRlci5zdGF0dXMgPSBzdGF0dXM7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gR2V0IHVzZXJzIHdpdGggcGFnaW5hdGlvblxyXG4gICAgY29uc3Qgc2tpcCA9IChwYWdlIC0gMSkgKiBsaW1pdDtcclxuICAgIGNvbnN0IHVzZXJzID0gYXdhaXQgVXNlci5maW5kKGZpbHRlcilcclxuICAgICAgLnNlbGVjdCgnLXBhc3N3b3JkJylcclxuICAgICAgLnNvcnQoeyBjcmVhdGVkQXQ6IC0xIH0pXHJcbiAgICAgIC5za2lwKHNraXApXHJcbiAgICAgIC5saW1pdChsaW1pdCk7XHJcblxyXG4gICAgY29uc3QgdG90YWwgPSBhd2FpdCBVc2VyLmNvdW50RG9jdW1lbnRzKGZpbHRlcik7XHJcblxyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcclxuICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgdXNlcnMsXHJcbiAgICAgIHBhZ2luYXRpb246IHtcclxuICAgICAgICBwYWdlLFxyXG4gICAgICAgIGxpbWl0LFxyXG4gICAgICAgIHRvdGFsLFxyXG4gICAgICAgIHBhZ2VzOiBNYXRoLmNlaWwodG90YWwgLyBsaW1pdClcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyB1c2VyczonLCBlcnJvcik7XHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgIHsgbWVzc2FnZTogJ0ZhaWxlZCB0byBmZXRjaCB1c2VycycgfSxcclxuICAgICAgeyBzdGF0dXM6IDUwMCB9XHJcbiAgICApO1xyXG4gIH1cclxufVxyXG5cclxuLy8gUFVUIHVwZGF0ZSB1c2VyIChBZG1pbiBvbmx5KVxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUFVUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XHJcbiAgdHJ5IHtcclxuICAgIC8vIFZlcmlmeSBhZG1pbiBhdXRoZW50aWNhdGlvblxyXG4gICAgY29uc3QgdG9rZW4gPSByZXF1ZXN0LmhlYWRlcnMuZ2V0KCdhdXRob3JpemF0aW9uJyk/LnJlcGxhY2UoJ0JlYXJlciAnLCAnJyk7XHJcbiAgICBcclxuICAgIGlmICghdG9rZW4pIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgIHsgbWVzc2FnZTogJ0F1dGhvcml6YXRpb24gdG9rZW4gcmVxdWlyZWQnIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDQwMSB9XHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZGVjb2RlZCA9IHZlcmlmeVRva2VuKHRva2VuKTtcclxuICAgIGlmICghZGVjb2RlZCB8fCBkZWNvZGVkLnJvbGUgIT09ICdhZG1pbicpIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgIHsgbWVzc2FnZTogJ0FkbWluIGFjY2VzcyByZXF1aXJlZCcgfSxcclxuICAgICAgICB7IHN0YXR1czogNDAzIH1cclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB7IHVzZXJJZCwgLi4udXBkYXRlRGF0YSB9ID0gYXdhaXQgcmVxdWVzdC5qc29uKCk7XHJcblxyXG4gICAgaWYgKCF1c2VySWQpIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgIHsgbWVzc2FnZTogJ1VzZXIgSUQgaXMgcmVxdWlyZWQnIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgYXdhaXQgY29ubmVjdFRvRGF0YWJhc2UoKTtcclxuXHJcbiAgICAvLyBEb24ndCBhbGxvdyBwYXNzd29yZCB1cGRhdGVzIHRocm91Z2ggdGhpcyBlbmRwb2ludFxyXG4gICAgZGVsZXRlIHVwZGF0ZURhdGEucGFzc3dvcmQ7XHJcblxyXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZEJ5SWRBbmRVcGRhdGUoXHJcbiAgICAgIHVzZXJJZCxcclxuICAgICAgeyAuLi51cGRhdGVEYXRhLCB1cGRhdGVkQXQ6IG5ldyBEYXRlKCkgfSxcclxuICAgICAgeyBuZXc6IHRydWUsIHJ1blZhbGlkYXRvcnM6IHRydWUgfVxyXG4gICAgKS5zZWxlY3QoJy1wYXNzd29yZCcpO1xyXG5cclxuICAgIGlmICghdXNlcikge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgeyBtZXNzYWdlOiAnVXNlciBub3QgZm91bmQnIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDQwNCB9XHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcclxuICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgbWVzc2FnZTogJ1VzZXIgdXBkYXRlZCBzdWNjZXNzZnVsbHknLFxyXG4gICAgICB1c2VyXHJcbiAgICB9KTtcclxuXHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIHVzZXI6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICB7IG1lc3NhZ2U6ICdGYWlsZWQgdG8gdXBkYXRlIHVzZXInIH0sXHJcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuXHJcbi8vIERFTEVURSB1c2VyIChBZG1pbiBvbmx5KVxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gREVMRVRFKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XHJcbiAgdHJ5IHtcclxuICAgIC8vIFZlcmlmeSBhZG1pbiBhdXRoZW50aWNhdGlvblxyXG4gICAgY29uc3QgdG9rZW4gPSByZXF1ZXN0LmhlYWRlcnMuZ2V0KCdhdXRob3JpemF0aW9uJyk/LnJlcGxhY2UoJ0JlYXJlciAnLCAnJyk7XHJcbiAgICBcclxuICAgIGlmICghdG9rZW4pIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgIHsgbWVzc2FnZTogJ0F1dGhvcml6YXRpb24gdG9rZW4gcmVxdWlyZWQnIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDQwMSB9XHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZGVjb2RlZCA9IHZlcmlmeVRva2VuKHRva2VuKTtcclxuICAgIGlmICghZGVjb2RlZCB8fCBkZWNvZGVkLnJvbGUgIT09ICdhZG1pbicpIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgIHsgbWVzc2FnZTogJ0FkbWluIGFjY2VzcyByZXF1aXJlZCcgfSxcclxuICAgICAgICB7IHN0YXR1czogNDAzIH1cclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB7IHNlYXJjaFBhcmFtcyB9ID0gbmV3IFVSTChyZXF1ZXN0LnVybCk7XHJcbiAgICBjb25zdCB1c2VySWQgPSBzZWFyY2hQYXJhbXMuZ2V0KCd1c2VySWQnKTtcclxuXHJcbiAgICBpZiAoIXVzZXJJZCkge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgeyBtZXNzYWdlOiAnVXNlciBJRCBpcyByZXF1aXJlZCcgfSxcclxuICAgICAgICB7IHN0YXR1czogNDAwIH1cclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBhd2FpdCBjb25uZWN0VG9EYXRhYmFzZSgpO1xyXG5cclxuICAgIC8vIERvbid0IGFsbG93IGRlbGV0aW5nIGFkbWluIHVzZXJzXHJcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kQnlJZCh1c2VySWQpO1xyXG4gICAgaWYgKCF1c2VyKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IG1lc3NhZ2U6ICdVc2VyIG5vdCBmb3VuZCcgfSxcclxuICAgICAgICB7IHN0YXR1czogNDA0IH1cclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodXNlci5yb2xlID09PSAnYWRtaW4nKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IG1lc3NhZ2U6ICdDYW5ub3QgZGVsZXRlIGFkbWluIHVzZXJzJyB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiA0MDMgfVxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIGF3YWl0IFVzZXIuZmluZEJ5SWRBbmREZWxldGUodXNlcklkKTtcclxuXHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xyXG4gICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICBtZXNzYWdlOiAnVXNlciBkZWxldGVkIHN1Y2Nlc3NmdWxseSdcclxuICAgIH0pO1xyXG5cclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZGVsZXRpbmcgdXNlcjonLCBlcnJvcik7XHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgIHsgbWVzc2FnZTogJ0ZhaWxlZCB0byBkZWxldGUgdXNlcicgfSxcclxuICAgICAgeyBzdGF0dXM6IDUwMCB9XHJcbiAgICApO1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiY29ubmVjdFRvRGF0YWJhc2UiLCJVc2VyIiwidmVyaWZ5VG9rZW4iLCJHRVQiLCJyZXF1ZXN0IiwidG9rZW4iLCJoZWFkZXJzIiwiZ2V0IiwicmVwbGFjZSIsImpzb24iLCJtZXNzYWdlIiwic3RhdHVzIiwiZGVjb2RlZCIsInJvbGUiLCJzZWFyY2hQYXJhbXMiLCJVUkwiLCJ1cmwiLCJwYWdlIiwicGFyc2VJbnQiLCJsaW1pdCIsInNlYXJjaCIsImZpbHRlciIsIiRvciIsImZpcnN0TmFtZSIsIiRyZWdleCIsIiRvcHRpb25zIiwibGFzdE5hbWUiLCJlbWFpbCIsInNraXAiLCJ1c2VycyIsImZpbmQiLCJzZWxlY3QiLCJzb3J0IiwiY3JlYXRlZEF0IiwidG90YWwiLCJjb3VudERvY3VtZW50cyIsInN1Y2Nlc3MiLCJwYWdpbmF0aW9uIiwicGFnZXMiLCJNYXRoIiwiY2VpbCIsImVycm9yIiwiY29uc29sZSIsIlBVVCIsInVzZXJJZCIsInVwZGF0ZURhdGEiLCJwYXNzd29yZCIsInVzZXIiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsInVwZGF0ZWRBdCIsIkRhdGUiLCJuZXciLCJydW5WYWxpZGF0b3JzIiwiREVMRVRFIiwiZmluZEJ5SWQiLCJmaW5kQnlJZEFuZERlbGV0ZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/admin/users/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/auth.ts":
/*!*********************!*\
  !*** ./lib/auth.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   comparePasswords: () => (/* binding */ comparePasswords),\n/* harmony export */   extractTokenFromHeader: () => (/* binding */ extractTokenFromHeader),\n/* harmony export */   generateToken: () => (/* binding */ generateToken),\n/* harmony export */   hashPassword: () => (/* binding */ hashPassword),\n/* harmony export */   verifyToken: () => (/* binding */ verifyToken)\n/* harmony export */ });\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bcryptjs */ \"(rsc)/./node_modules/.pnpm/bcryptjs@2.4.3/node_modules/bcryptjs/index.js\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jsonwebtoken */ \"(rsc)/./node_modules/.pnpm/jsonwebtoken@9.0.3/node_modules/jsonwebtoken/index.js\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst JWT_SECRET = process.env.JWT_SECRET || \"your-super-secret-jwt-key-change-in-production\";\nasync function hashPassword(password) {\n    const salt = await bcryptjs__WEBPACK_IMPORTED_MODULE_0___default().genSalt(10);\n    return bcryptjs__WEBPACK_IMPORTED_MODULE_0___default().hash(password, salt);\n}\nasync function comparePasswords(password, hashedPassword) {\n    return bcryptjs__WEBPACK_IMPORTED_MODULE_0___default().compare(password, hashedPassword);\n}\nfunction generateToken(userId, email, role = \"user\") {\n    return jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default().sign({\n        userId,\n        email,\n        role\n    }, JWT_SECRET, {\n        expiresIn: \"7d\"\n    });\n}\nfunction verifyToken(token) {\n    try {\n        return jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default().verify(token, JWT_SECRET);\n    } catch (error) {\n        return null;\n    }\n}\nfunction extractTokenFromHeader(authHeader) {\n    if (!authHeader) return null;\n    const parts = authHeader.split(\" \");\n    if (parts.length !== 2 || parts[0] !== \"Bearer\") {\n        return null;\n    }\n    return parts[1];\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvYXV0aC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBZ0M7QUFDRDtBQUUvQixNQUFNRSxhQUFhQyxRQUFRQyxHQUFHLENBQUNGLFVBQVUsSUFBSTtBQUV0QyxlQUFlRyxhQUFhQyxRQUFnQjtJQUNqRCxNQUFNQyxPQUFPLE1BQU1QLHVEQUFnQixDQUFDO0lBQ3BDLE9BQU9BLG9EQUFhLENBQUNNLFVBQVVDO0FBQ2pDO0FBRU8sZUFBZUcsaUJBQ3BCSixRQUFnQixFQUNoQkssY0FBc0I7SUFFdEIsT0FBT1gsdURBQWdCLENBQUNNLFVBQVVLO0FBQ3BDO0FBRU8sU0FBU0UsY0FBY0MsTUFBYyxFQUFFQyxLQUFhLEVBQUVDLE9BQXlCLE1BQU07SUFDMUYsT0FBT2Ysd0RBQVEsQ0FDYjtRQUNFYTtRQUNBQztRQUNBQztJQUNGLEdBQ0FkLFlBQ0E7UUFBRWdCLFdBQVc7SUFBSztBQUV0QjtBQUVPLFNBQVNDLFlBQVlDLEtBQWE7SUFDdkMsSUFBSTtRQUNGLE9BQU9uQiwwREFBVSxDQUFDbUIsT0FBT2xCO0lBQzNCLEVBQUUsT0FBT29CLE9BQU87UUFDZCxPQUFPO0lBQ1Q7QUFDRjtBQUVPLFNBQVNDLHVCQUF1QkMsVUFBeUI7SUFDOUQsSUFBSSxDQUFDQSxZQUFZLE9BQU87SUFFeEIsTUFBTUMsUUFBUUQsV0FBV0UsS0FBSyxDQUFDO0lBQy9CLElBQUlELE1BQU1FLE1BQU0sS0FBSyxLQUFLRixLQUFLLENBQUMsRUFBRSxLQUFLLFVBQVU7UUFDL0MsT0FBTztJQUNUO0lBRUEsT0FBT0EsS0FBSyxDQUFDLEVBQUU7QUFDakIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZWFyZ2hhci8uL2xpYi9hdXRoLnRzP2JmN2UiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGJjcnlwdGpzIGZyb20gJ2JjcnlwdGpzJztcbmltcG9ydCBqd3QgZnJvbSAnanNvbndlYnRva2VuJztcblxuY29uc3QgSldUX1NFQ1JFVCA9IHByb2Nlc3MuZW52LkpXVF9TRUNSRVQgfHwgJ3lvdXItc3VwZXItc2VjcmV0LWp3dC1rZXktY2hhbmdlLWluLXByb2R1Y3Rpb24nO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaGFzaFBhc3N3b3JkKHBhc3N3b3JkOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuICBjb25zdCBzYWx0ID0gYXdhaXQgYmNyeXB0anMuZ2VuU2FsdCgxMCk7XG4gIHJldHVybiBiY3J5cHRqcy5oYXNoKHBhc3N3b3JkLCBzYWx0KTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNvbXBhcmVQYXNzd29yZHMoXG4gIHBhc3N3b3JkOiBzdHJpbmcsXG4gIGhhc2hlZFBhc3N3b3JkOiBzdHJpbmdcbik6IFByb21pc2U8Ym9vbGVhbj4ge1xuICByZXR1cm4gYmNyeXB0anMuY29tcGFyZShwYXNzd29yZCwgaGFzaGVkUGFzc3dvcmQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVUb2tlbih1c2VySWQ6IHN0cmluZywgZW1haWw6IHN0cmluZywgcm9sZTogJ3VzZXInIHwgJ2FkbWluJyA9ICd1c2VyJyk6IHN0cmluZyB7XG4gIHJldHVybiBqd3Quc2lnbihcbiAgICB7XG4gICAgICB1c2VySWQsXG4gICAgICBlbWFpbCxcbiAgICAgIHJvbGUsXG4gICAgfSxcbiAgICBKV1RfU0VDUkVULFxuICAgIHsgZXhwaXJlc0luOiAnN2QnIH1cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHZlcmlmeVRva2VuKHRva2VuOiBzdHJpbmcpOiBhbnkge1xuICB0cnkge1xuICAgIHJldHVybiBqd3QudmVyaWZ5KHRva2VuLCBKV1RfU0VDUkVUKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZXh0cmFjdFRva2VuRnJvbUhlYWRlcihhdXRoSGVhZGVyOiBzdHJpbmcgfCBudWxsKTogc3RyaW5nIHwgbnVsbCB7XG4gIGlmICghYXV0aEhlYWRlcikgcmV0dXJuIG51bGw7XG5cbiAgY29uc3QgcGFydHMgPSBhdXRoSGVhZGVyLnNwbGl0KCcgJyk7XG4gIGlmIChwYXJ0cy5sZW5ndGggIT09IDIgfHwgcGFydHNbMF0gIT09ICdCZWFyZXInKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gcGFydHNbMV07XG59XG4iXSwibmFtZXMiOlsiYmNyeXB0anMiLCJqd3QiLCJKV1RfU0VDUkVUIiwicHJvY2VzcyIsImVudiIsImhhc2hQYXNzd29yZCIsInBhc3N3b3JkIiwic2FsdCIsImdlblNhbHQiLCJoYXNoIiwiY29tcGFyZVBhc3N3b3JkcyIsImhhc2hlZFBhc3N3b3JkIiwiY29tcGFyZSIsImdlbmVyYXRlVG9rZW4iLCJ1c2VySWQiLCJlbWFpbCIsInJvbGUiLCJzaWduIiwiZXhwaXJlc0luIiwidmVyaWZ5VG9rZW4iLCJ0b2tlbiIsInZlcmlmeSIsImVycm9yIiwiZXh0cmFjdFRva2VuRnJvbUhlYWRlciIsImF1dGhIZWFkZXIiLCJwYXJ0cyIsInNwbGl0IiwibGVuZ3RoIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/auth.ts\n");

/***/ }),

/***/ "(rsc)/./src/config/database.ts":
/*!********************************!*\
  !*** ./src/config/database.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   connectToDatabase: () => (/* binding */ connectToDatabase),\n/* harmony export */   disconnectFromDatabase: () => (/* binding */ disconnectFromDatabase)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst MONGODB_URI = process.env.MONGODB_URI || \"mongodb+srv://user:password@cluster.mongodb.net/gearghar\";\nif (!MONGODB_URI) {\n    throw new Error(\"MONGODB_URI environment variable is not set\");\n}\n// Connection options (updated for MongoDB 7.0+)\nconst options = {\n    maxPoolSize: 10,\n    serverSelectionTimeoutMS: 5000,\n    socketTimeoutMS: 45000\n};\n// Cached connection\nlet cachedConnection = null;\nasync function connectToDatabase() {\n    if (cachedConnection) {\n        return cachedConnection;\n    }\n    try {\n        cachedConnection = await mongoose__WEBPACK_IMPORTED_MODULE_0___default().connect(MONGODB_URI, options);\n        console.log(\"✅ Connected to MongoDB successfully\");\n        // Handle connection events\n        mongoose__WEBPACK_IMPORTED_MODULE_0___default().connection.on(\"error\", (error)=>{\n            console.error(\"❌ MongoDB connection error:\", error);\n        });\n        mongoose__WEBPACK_IMPORTED_MODULE_0___default().connection.on(\"disconnected\", ()=>{\n            console.log(\"⚠️ MongoDB disconnected\");\n            cachedConnection = null;\n        });\n        mongoose__WEBPACK_IMPORTED_MODULE_0___default().connection.on(\"reconnected\", ()=>{\n            console.log(\"✅ MongoDB reconnected\");\n        });\n        return cachedConnection;\n    } catch (error) {\n        console.error(\"❌ Failed to connect to MongoDB:\", error);\n        throw error;\n    }\n}\nasync function disconnectFromDatabase() {\n    if (cachedConnection) {\n        await mongoose__WEBPACK_IMPORTED_MODULE_0___default().disconnect();\n        cachedConnection = null;\n        console.log(\"✅ Disconnected from MongoDB\");\n    }\n}\n// Graceful shutdown\nprocess.on(\"SIGINT\", async ()=>{\n    await disconnectFromDatabase();\n    process.exit(0);\n});\nprocess.on(\"SIGTERM\", async ()=>{\n    await disconnectFromDatabase();\n    process.exit(0);\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvY29uZmlnL2RhdGFiYXNlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBZ0M7QUFFaEMsTUFBTUMsY0FBY0MsUUFBUUMsR0FBRyxDQUFDRixXQUFXLElBQUk7QUFFL0MsSUFBSSxDQUFDQSxhQUFhO0lBQ2hCLE1BQU0sSUFBSUcsTUFBTTtBQUNsQjtBQUVBLGdEQUFnRDtBQUNoRCxNQUFNQyxVQUFVO0lBQ2RDLGFBQWE7SUFDYkMsMEJBQTBCO0lBQzFCQyxpQkFBaUI7QUFDbkI7QUFFQSxvQkFBb0I7QUFDcEIsSUFBSUMsbUJBQTJDO0FBRXhDLGVBQWVDO0lBQ3BCLElBQUlELGtCQUFrQjtRQUNwQixPQUFPQTtJQUNUO0lBRUEsSUFBSTtRQUNGQSxtQkFBbUIsTUFBTVQsdURBQWdCLENBQUNDLGFBQWFJO1FBQ3ZETyxRQUFRQyxHQUFHLENBQUM7UUFFWiwyQkFBMkI7UUFDM0JiLDBEQUFtQixDQUFDZSxFQUFFLENBQUMsU0FBUyxDQUFDQztZQUMvQkosUUFBUUksS0FBSyxDQUFDLCtCQUErQkE7UUFDL0M7UUFFQWhCLDBEQUFtQixDQUFDZSxFQUFFLENBQUMsZ0JBQWdCO1lBQ3JDSCxRQUFRQyxHQUFHLENBQUM7WUFDWkosbUJBQW1CO1FBQ3JCO1FBRUFULDBEQUFtQixDQUFDZSxFQUFFLENBQUMsZUFBZTtZQUNwQ0gsUUFBUUMsR0FBRyxDQUFDO1FBQ2Q7UUFFQSxPQUFPSjtJQUNULEVBQUUsT0FBT08sT0FBTztRQUNkSixRQUFRSSxLQUFLLENBQUMsbUNBQW1DQTtRQUNqRCxNQUFNQTtJQUNSO0FBQ0Y7QUFFTyxlQUFlQztJQUNwQixJQUFJUixrQkFBa0I7UUFDcEIsTUFBTVQsMERBQW1CO1FBQ3pCUyxtQkFBbUI7UUFDbkJHLFFBQVFDLEdBQUcsQ0FBQztJQUNkO0FBQ0Y7QUFFQSxvQkFBb0I7QUFDcEJYLFFBQVFhLEVBQUUsQ0FBQyxVQUFVO0lBQ25CLE1BQU1FO0lBQ05mLFFBQVFpQixJQUFJLENBQUM7QUFDZjtBQUVBakIsUUFBUWEsRUFBRSxDQUFDLFdBQVc7SUFDcEIsTUFBTUU7SUFDTmYsUUFBUWlCLElBQUksQ0FBQztBQUNmIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ2VhcmdoYXIvLi9zcmMvY29uZmlnL2RhdGFiYXNlLnRzPzg4MDciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcclxuXHJcbmNvbnN0IE1PTkdPREJfVVJJID0gcHJvY2Vzcy5lbnYuTU9OR09EQl9VUkkgfHwgJ21vbmdvZGIrc3J2Oi8vdXNlcjpwYXNzd29yZEBjbHVzdGVyLm1vbmdvZGIubmV0L2dlYXJnaGFyJztcclxuXHJcbmlmICghTU9OR09EQl9VUkkpIHtcclxuICB0aHJvdyBuZXcgRXJyb3IoJ01PTkdPREJfVVJJIGVudmlyb25tZW50IHZhcmlhYmxlIGlzIG5vdCBzZXQnKTtcclxufVxyXG5cclxuLy8gQ29ubmVjdGlvbiBvcHRpb25zICh1cGRhdGVkIGZvciBNb25nb0RCIDcuMCspXHJcbmNvbnN0IG9wdGlvbnMgPSB7XHJcbiAgbWF4UG9vbFNpemU6IDEwLCAvLyBNYWludGFpbiB1cCB0byAxMCBzb2NrZXQgY29ubmVjdGlvbnNcclxuICBzZXJ2ZXJTZWxlY3Rpb25UaW1lb3V0TVM6IDUwMDAsIC8vIEtlZXAgdHJ5aW5nIHRvIHNlbmQgb3BlcmF0aW9ucyBmb3IgNSBzZWNvbmRzXHJcbiAgc29ja2V0VGltZW91dE1TOiA0NTAwMCwgLy8gQ2xvc2Ugc29ja2V0cyBhZnRlciA0NSBzZWNvbmRzIG9mIGluYWN0aXZpdHlcclxufTtcclxuXHJcbi8vIENhY2hlZCBjb25uZWN0aW9uXHJcbmxldCBjYWNoZWRDb25uZWN0aW9uOiB0eXBlb2YgbW9uZ29vc2UgfCBudWxsID0gbnVsbDtcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjb25uZWN0VG9EYXRhYmFzZSgpOiBQcm9taXNlPHR5cGVvZiBtb25nb29zZT4ge1xyXG4gIGlmIChjYWNoZWRDb25uZWN0aW9uKSB7XHJcbiAgICByZXR1cm4gY2FjaGVkQ29ubmVjdGlvbjtcclxuICB9XHJcblxyXG4gIHRyeSB7XHJcbiAgICBjYWNoZWRDb25uZWN0aW9uID0gYXdhaXQgbW9uZ29vc2UuY29ubmVjdChNT05HT0RCX1VSSSwgb3B0aW9ucyk7XHJcbiAgICBjb25zb2xlLmxvZygn4pyFIENvbm5lY3RlZCB0byBNb25nb0RCIHN1Y2Nlc3NmdWxseScpO1xyXG4gICAgXHJcbiAgICAvLyBIYW5kbGUgY29ubmVjdGlvbiBldmVudHNcclxuICAgIG1vbmdvb3NlLmNvbm5lY3Rpb24ub24oJ2Vycm9yJywgKGVycm9yKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBNb25nb0RCIGNvbm5lY3Rpb24gZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgbW9uZ29vc2UuY29ubmVjdGlvbi5vbignZGlzY29ubmVjdGVkJywgKCkgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZygn4pqg77iPIE1vbmdvREIgZGlzY29ubmVjdGVkJyk7XHJcbiAgICAgIGNhY2hlZENvbm5lY3Rpb24gPSBudWxsO1xyXG4gICAgfSk7XHJcblxyXG4gICAgbW9uZ29vc2UuY29ubmVjdGlvbi5vbigncmVjb25uZWN0ZWQnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgTW9uZ29EQiByZWNvbm5lY3RlZCcpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIGNhY2hlZENvbm5lY3Rpb247XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBGYWlsZWQgdG8gY29ubmVjdCB0byBNb25nb0RCOicsIGVycm9yKTtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRpc2Nvbm5lY3RGcm9tRGF0YWJhc2UoKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgaWYgKGNhY2hlZENvbm5lY3Rpb24pIHtcclxuICAgIGF3YWl0IG1vbmdvb3NlLmRpc2Nvbm5lY3QoKTtcclxuICAgIGNhY2hlZENvbm5lY3Rpb24gPSBudWxsO1xyXG4gICAgY29uc29sZS5sb2coJ+KchSBEaXNjb25uZWN0ZWQgZnJvbSBNb25nb0RCJyk7XHJcbiAgfVxyXG59XHJcblxyXG4vLyBHcmFjZWZ1bCBzaHV0ZG93blxyXG5wcm9jZXNzLm9uKCdTSUdJTlQnLCBhc3luYyAoKSA9PiB7XHJcbiAgYXdhaXQgZGlzY29ubmVjdEZyb21EYXRhYmFzZSgpO1xyXG4gIHByb2Nlc3MuZXhpdCgwKTtcclxufSk7XHJcblxyXG5wcm9jZXNzLm9uKCdTSUdURVJNJywgYXN5bmMgKCkgPT4ge1xyXG4gIGF3YWl0IGRpc2Nvbm5lY3RGcm9tRGF0YWJhc2UoKTtcclxuICBwcm9jZXNzLmV4aXQoMCk7XHJcbn0pO1xyXG4iXSwibmFtZXMiOlsibW9uZ29vc2UiLCJNT05HT0RCX1VSSSIsInByb2Nlc3MiLCJlbnYiLCJFcnJvciIsIm9wdGlvbnMiLCJtYXhQb29sU2l6ZSIsInNlcnZlclNlbGVjdGlvblRpbWVvdXRNUyIsInNvY2tldFRpbWVvdXRNUyIsImNhY2hlZENvbm5lY3Rpb24iLCJjb25uZWN0VG9EYXRhYmFzZSIsImNvbm5lY3QiLCJjb25zb2xlIiwibG9nIiwiY29ubmVjdGlvbiIsIm9uIiwiZXJyb3IiLCJkaXNjb25uZWN0RnJvbURhdGFiYXNlIiwiZGlzY29ubmVjdCIsImV4aXQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/config/database.ts\n");

/***/ }),

/***/ "(rsc)/./src/models/User.ts":
/*!****************************!*\
  !*** ./src/models/User.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   User: () => (/* binding */ User)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst UserSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n    firstName: {\n        type: String,\n        required: [\n            true,\n            \"First name is required\"\n        ],\n        trim: true,\n        minlength: [\n            2,\n            \"First name must be at least 2 characters long\"\n        ],\n        maxlength: [\n            50,\n            \"First name cannot exceed 50 characters\"\n        ]\n    },\n    lastName: {\n        type: String,\n        required: [\n            true,\n            \"Last name is required\"\n        ],\n        trim: true,\n        minlength: [\n            2,\n            \"Last name must be at least 2 characters long\"\n        ],\n        maxlength: [\n            50,\n            \"Last name cannot exceed 50 characters\"\n        ]\n    },\n    email: {\n        type: String,\n        required: [\n            true,\n            \"Email is required\"\n        ],\n        unique: true,\n        lowercase: true,\n        trim: true,\n        match: [\n            /^\\w+([.-]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{2,3})+$/,\n            \"Please enter a valid email\"\n        ]\n    },\n    password: {\n        type: String,\n        required: [\n            true,\n            \"Password is required\"\n        ],\n        minlength: [\n            6,\n            \"Password must be at least 6 characters long\"\n        ]\n    },\n    role: {\n        type: String,\n        enum: {\n            values: [\n                \"user\",\n                \"admin\"\n            ],\n            message: \"Role must be either user or admin\"\n        },\n        default: \"user\"\n    },\n    status: {\n        type: String,\n        enum: {\n            values: [\n                \"active\",\n                \"inactive\"\n            ],\n            message: \"Status must be either active or inactive\"\n        },\n        default: \"active\"\n    },\n    lastLogin: {\n        type: Date,\n        default: null\n    }\n}, {\n    timestamps: true,\n    toJSON: {\n        transform: function(doc, ret) {\n            delete ret.password;\n            return ret;\n        }\n    }\n});\n// Index for better query performance (only define once)\nUserSchema.index({\n    role: 1\n});\nUserSchema.index({\n    status: 1\n});\n// Prevent model overwrite\nconst User = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).User || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"User\", UserSchema);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbW9kZWxzL1VzZXIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXNEO0FBY3RELE1BQU1FLGFBQXFCLElBQUlELDRDQUFNQSxDQUFDO0lBQ3BDRSxXQUFXO1FBQ1RDLE1BQU1DO1FBQ05DLFVBQVU7WUFBQztZQUFNO1NBQXlCO1FBQzFDQyxNQUFNO1FBQ05DLFdBQVc7WUFBQztZQUFHO1NBQWdEO1FBQy9EQyxXQUFXO1lBQUM7WUFBSTtTQUF5QztJQUMzRDtJQUNBQyxVQUFVO1FBQ1JOLE1BQU1DO1FBQ05DLFVBQVU7WUFBQztZQUFNO1NBQXdCO1FBQ3pDQyxNQUFNO1FBQ05DLFdBQVc7WUFBQztZQUFHO1NBQStDO1FBQzlEQyxXQUFXO1lBQUM7WUFBSTtTQUF3QztJQUMxRDtJQUNBRSxPQUFPO1FBQ0xQLE1BQU1DO1FBQ05DLFVBQVU7WUFBQztZQUFNO1NBQW9CO1FBQ3JDTSxRQUFRO1FBQ1JDLFdBQVc7UUFDWE4sTUFBTTtRQUNOTyxPQUFPO1lBQUM7WUFBK0M7U0FBNkI7SUFDdEY7SUFDQUMsVUFBVTtRQUNSWCxNQUFNQztRQUNOQyxVQUFVO1lBQUM7WUFBTTtTQUF1QjtRQUN4Q0UsV0FBVztZQUFDO1lBQUc7U0FBOEM7SUFDL0Q7SUFDQVEsTUFBTTtRQUNKWixNQUFNQztRQUNOWSxNQUFNO1lBQ0pDLFFBQVE7Z0JBQUM7Z0JBQVE7YUFBUTtZQUN6QkMsU0FBUztRQUNYO1FBQ0FDLFNBQVM7SUFDWDtJQUNBQyxRQUFRO1FBQ05qQixNQUFNQztRQUNOWSxNQUFNO1lBQ0pDLFFBQVE7Z0JBQUM7Z0JBQVU7YUFBVztZQUM5QkMsU0FBUztRQUNYO1FBQ0FDLFNBQVM7SUFDWDtJQUNBRSxXQUFXO1FBQ1RsQixNQUFNbUI7UUFDTkgsU0FBUztJQUNYO0FBQ0YsR0FBRztJQUNESSxZQUFZO0lBQ1pDLFFBQVE7UUFDTkMsV0FBVyxTQUFTQyxHQUFHLEVBQUVDLEdBQUc7WUFDMUIsT0FBT0EsSUFBSWIsUUFBUTtZQUNuQixPQUFPYTtRQUNUO0lBQ0Y7QUFDRjtBQUVBLHdEQUF3RDtBQUN4RDFCLFdBQVcyQixLQUFLLENBQUM7SUFBRWIsTUFBTTtBQUFFO0FBQzNCZCxXQUFXMkIsS0FBSyxDQUFDO0lBQUVSLFFBQVE7QUFBRTtBQUU3QiwwQkFBMEI7QUFDbkIsTUFBTVMsT0FBTzlCLHdEQUFlLENBQUM4QixJQUFJLElBQUk5QixxREFBYyxDQUFRLFFBQVFFLFlBQVkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZWFyZ2hhci8uL3NyYy9tb2RlbHMvVXNlci50cz8wOTZkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSwgeyBTY2hlbWEsIERvY3VtZW50IH0gZnJvbSAnbW9uZ29vc2UnO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJVXNlciBleHRlbmRzIERvY3VtZW50IHtcclxuICBmaXJzdE5hbWU6IHN0cmluZztcclxuICBsYXN0TmFtZTogc3RyaW5nO1xyXG4gIGVtYWlsOiBzdHJpbmc7XHJcbiAgcGFzc3dvcmQ6IHN0cmluZztcclxuICByb2xlOiAndXNlcicgfCAnYWRtaW4nO1xyXG4gIHN0YXR1czogJ2FjdGl2ZScgfCAnaW5hY3RpdmUnO1xyXG4gIGxhc3RMb2dpbj86IERhdGU7XHJcbiAgY3JlYXRlZEF0OiBEYXRlO1xyXG4gIHVwZGF0ZWRBdDogRGF0ZTtcclxufVxyXG5cclxuY29uc3QgVXNlclNjaGVtYTogU2NoZW1hID0gbmV3IFNjaGVtYSh7XHJcbiAgZmlyc3ROYW1lOiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICByZXF1aXJlZDogW3RydWUsICdGaXJzdCBuYW1lIGlzIHJlcXVpcmVkJ10sXHJcbiAgICB0cmltOiB0cnVlLFxyXG4gICAgbWlubGVuZ3RoOiBbMiwgJ0ZpcnN0IG5hbWUgbXVzdCBiZSBhdCBsZWFzdCAyIGNoYXJhY3RlcnMgbG9uZyddLFxyXG4gICAgbWF4bGVuZ3RoOiBbNTAsICdGaXJzdCBuYW1lIGNhbm5vdCBleGNlZWQgNTAgY2hhcmFjdGVycyddXHJcbiAgfSxcclxuICBsYXN0TmFtZToge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgcmVxdWlyZWQ6IFt0cnVlLCAnTGFzdCBuYW1lIGlzIHJlcXVpcmVkJ10sXHJcbiAgICB0cmltOiB0cnVlLFxyXG4gICAgbWlubGVuZ3RoOiBbMiwgJ0xhc3QgbmFtZSBtdXN0IGJlIGF0IGxlYXN0IDIgY2hhcmFjdGVycyBsb25nJ10sXHJcbiAgICBtYXhsZW5ndGg6IFs1MCwgJ0xhc3QgbmFtZSBjYW5ub3QgZXhjZWVkIDUwIGNoYXJhY3RlcnMnXVxyXG4gIH0sXHJcbiAgZW1haWw6IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIHJlcXVpcmVkOiBbdHJ1ZSwgJ0VtYWlsIGlzIHJlcXVpcmVkJ10sXHJcbiAgICB1bmlxdWU6IHRydWUsXHJcbiAgICBsb3dlcmNhc2U6IHRydWUsXHJcbiAgICB0cmltOiB0cnVlLFxyXG4gICAgbWF0Y2g6IFsvXlxcdysoWy4tXT9cXHcrKSpAXFx3KyhbLi1dP1xcdyspKihcXC5cXHd7MiwzfSkrJC8sICdQbGVhc2UgZW50ZXIgYSB2YWxpZCBlbWFpbCddXHJcbiAgfSxcclxuICBwYXNzd29yZDoge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgcmVxdWlyZWQ6IFt0cnVlLCAnUGFzc3dvcmQgaXMgcmVxdWlyZWQnXSxcclxuICAgIG1pbmxlbmd0aDogWzYsICdQYXNzd29yZCBtdXN0IGJlIGF0IGxlYXN0IDYgY2hhcmFjdGVycyBsb25nJ11cclxuICB9LFxyXG4gIHJvbGU6IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIGVudW06IHtcclxuICAgICAgdmFsdWVzOiBbJ3VzZXInLCAnYWRtaW4nXSxcclxuICAgICAgbWVzc2FnZTogJ1JvbGUgbXVzdCBiZSBlaXRoZXIgdXNlciBvciBhZG1pbidcclxuICAgIH0sXHJcbiAgICBkZWZhdWx0OiAndXNlcidcclxuICB9LFxyXG4gIHN0YXR1czoge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgZW51bToge1xyXG4gICAgICB2YWx1ZXM6IFsnYWN0aXZlJywgJ2luYWN0aXZlJ10sXHJcbiAgICAgIG1lc3NhZ2U6ICdTdGF0dXMgbXVzdCBiZSBlaXRoZXIgYWN0aXZlIG9yIGluYWN0aXZlJ1xyXG4gICAgfSxcclxuICAgIGRlZmF1bHQ6ICdhY3RpdmUnXHJcbiAgfSxcclxuICBsYXN0TG9naW46IHtcclxuICAgIHR5cGU6IERhdGUsXHJcbiAgICBkZWZhdWx0OiBudWxsXHJcbiAgfVxyXG59LCB7XHJcbiAgdGltZXN0YW1wczogdHJ1ZSxcclxuICB0b0pTT046IHtcclxuICAgIHRyYW5zZm9ybTogZnVuY3Rpb24oZG9jLCByZXQpIHtcclxuICAgICAgZGVsZXRlIHJldC5wYXNzd29yZDtcclxuICAgICAgcmV0dXJuIHJldDtcclxuICAgIH1cclxuICB9XHJcbn0pO1xyXG5cclxuLy8gSW5kZXggZm9yIGJldHRlciBxdWVyeSBwZXJmb3JtYW5jZSAob25seSBkZWZpbmUgb25jZSlcclxuVXNlclNjaGVtYS5pbmRleCh7IHJvbGU6IDEgfSk7XHJcblVzZXJTY2hlbWEuaW5kZXgoeyBzdGF0dXM6IDEgfSk7XHJcblxyXG4vLyBQcmV2ZW50IG1vZGVsIG92ZXJ3cml0ZVxyXG5leHBvcnQgY29uc3QgVXNlciA9IG1vbmdvb3NlLm1vZGVscy5Vc2VyIHx8IG1vbmdvb3NlLm1vZGVsPElVc2VyPignVXNlcicsIFVzZXJTY2hlbWEpO1xyXG4iXSwibmFtZXMiOlsibW9uZ29vc2UiLCJTY2hlbWEiLCJVc2VyU2NoZW1hIiwiZmlyc3ROYW1lIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwidHJpbSIsIm1pbmxlbmd0aCIsIm1heGxlbmd0aCIsImxhc3ROYW1lIiwiZW1haWwiLCJ1bmlxdWUiLCJsb3dlcmNhc2UiLCJtYXRjaCIsInBhc3N3b3JkIiwicm9sZSIsImVudW0iLCJ2YWx1ZXMiLCJtZXNzYWdlIiwiZGVmYXVsdCIsInN0YXR1cyIsImxhc3RMb2dpbiIsIkRhdGUiLCJ0aW1lc3RhbXBzIiwidG9KU09OIiwidHJhbnNmb3JtIiwiZG9jIiwicmV0IiwiaW5kZXgiLCJVc2VyIiwibW9kZWxzIiwibW9kZWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/models/User.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next@14.2.35_react-dom@18.3.1_react@18.3.1__react@18.3.1","vendor-chunks/semver@7.7.3","vendor-chunks/bcryptjs@2.4.3","vendor-chunks/jsonwebtoken@9.0.3","vendor-chunks/lodash.includes@4.3.0","vendor-chunks/jws@4.0.1","vendor-chunks/lodash.once@4.1.1","vendor-chunks/jwa@2.0.1","vendor-chunks/lodash.isinteger@4.0.4","vendor-chunks/ecdsa-sig-formatter@1.0.11","vendor-chunks/lodash.isplainobject@4.0.6","vendor-chunks/ms@2.1.3","vendor-chunks/lodash.isstring@4.0.1","vendor-chunks/lodash.isnumber@3.0.3","vendor-chunks/lodash.isboolean@3.0.3","vendor-chunks/safe-buffer@5.2.1","vendor-chunks/buffer-equal-constant-time@1.0.1"], () => (__webpack_exec__("(rsc)/./node_modules/.pnpm/next@14.2.35_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fadmin%2Fusers%2Froute&page=%2Fapi%2Fadmin%2Fusers%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Fusers%2Froute.ts&appDir=E%3A%5CNew%20folder%20(4)%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5CNew%20folder%20(4)&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();